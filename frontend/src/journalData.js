// Journal Impact Factor 데이터베이스
export const JOURNAL_DATABASE = [
  // Medicine & Health Sciences
  {name: "New England Journal of Medicine", issn: "0028-4793", impact_factor: 176.079, category: "Medicine, General & Internal", quartile: "Q1"},
  {name: "The Lancet", issn: "0140-6736", impact_factor: 168.9, category: "Medicine, General & Internal", quartile: "Q1"},
  {name: "JAMA", issn: "0098-7484", impact_factor: 120.8, category: "Medicine, General & Internal", quartile: "Q1"},
  {name: "Nature Medicine", issn: "1078-8956", impact_factor: 82.9, category: "Biochemistry & Molecular Biology", quartile: "Q1"},
  {name: "BMJ", issn: "0959-8138", impact_factor: 93.6, category: "Medicine, General & Internal", quartile: "Q1"},
  
  // Science & Nature
  {name: "Nature", issn: "0028-0836", impact_factor: 64.8, category: "Multidisciplinary Sciences", quartile: "Q1"},
  {name: "Science", issn: "0036-8075", impact_factor: 56.9, category: "Multidisciplinary Sciences", quartile: "Q1"},
  {name: "Cell", issn: "0092-8674", impact_factor: 64.5, category: "Cell Biology", quartile: "Q1"},
  {name: "Proceedings of the National Academy of Sciences", issn: "0027-8424", impact_factor: 11.1, category: "Multidisciplinary Sciences", quartile: "Q1"},
  
  // Chemistry
  {name: "Chemical Reviews", issn: "0009-2665", impact_factor: 62.1, category: "Chemistry, Multidisciplinary", quartile: "Q1"},
  {name: "Nature Chemistry", issn: "1755-4330", impact_factor: 24.2, category: "Chemistry, Multidisciplinary", quartile: "Q1"},
  {name: "Journal of the American Chemical Society", issn: "0002-7863", impact_factor: 16.4, category: "Chemistry, Multidisciplinary", quartile: "Q1"},
  {name: "Angewandte Chemie International Edition", issn: "1433-7851", impact_factor: 16.6, category: "Chemistry, Multidisciplinary", quartile: "Q1"},
  
  // Physics
  {name: "Reviews of Modern Physics", issn: "0034-6861", impact_factor: 42.9, category: "Physics, Multidisciplinary", quartile: "Q1"},
  {name: "Nature Physics", issn: "1745-2473", impact_factor: 19.6, category: "Physics, Multidisciplinary", quartile: "Q1"},
  {name: "Physical Review Letters", issn: "0031-9007", impact_factor: 8.6, category: "Physics, Multidisciplinary", quartile: "Q1"},
  
  // Computer Science
  {name: "Nature Machine Intelligence", issn: "2522-5839", impact_factor: 25.9, category: "Computer Science, Artificial Intelligence", quartile: "Q1"},
  {name: "IEEE Transactions on Pattern Analysis and Machine Intelligence", issn: "0162-8828", impact_factor: 23.6, category: "Computer Science, Artificial Intelligence", quartile: "Q1"},
  {name: "ACM Computing Surveys", issn: "0360-0300", impact_factor: 23.8, category: "Computer Science, Theory & Methods", quartile: "Q1"},
  
  // Engineering
  {name: "Nature Energy", issn: "2058-7546", impact_factor: 56.0, category: "Energy & Fuels", quartile: "Q1"},
  {name: "Advanced Materials", issn: "0935-9648", impact_factor: 29.4, category: "Materials Science, Multidisciplinary", quartile: "Q1"},
  
  // Biology
  {name: "Nature Genetics", issn: "1061-4036", impact_factor: 30.8, category: "Genetics & Heredity", quartile: "Q1"},
  {name: "Nature Biotechnology", issn: "1087-0156", impact_factor: 46.9, category: "Biotechnology & Applied Microbiology", quartile: "Q1"},
  {name: "Genome Biology", issn: "1474-760X", impact_factor: 12.3, category: "Genetics & Heredity", quartile: "Q1"},
  
  // Economics & Business
  {name: "Journal of Economic Literature", issn: "0022-0515", impact_factor: 12.4, category: "Economics", quartile: "Q1"},
  {name: "Quarterly Journal of Economics", issn: "0033-5533", impact_factor: 11.8, category: "Economics", quartile: "Q1"},
  {name: "Academy of Management Journal", issn: "0001-4273", impact_factor: 9.5, category: "Business", quartile: "Q1"},
  
  // Psychology
  {name: "Psychological Bulletin", issn: "0033-2909", impact_factor: 17.9, category: "Psychology, Multidisciplinary", quartile: "Q1"},
  {name: "Annual Review of Psychology", issn: "0066-4308", impact_factor: 23.6, category: "Psychology, Multidisciplinary", quartile: "Q1"},
  
  // Environmental Science
  {name: "Nature Climate Change", issn: "1758-678X", impact_factor: 30.7, category: "Environmental Sciences", quartile: "Q1"},
  {name: "Environmental Science & Technology", issn: "0013-936X", impact_factor: 11.4, category: "Engineering, Environmental", quartile: "Q1"},
  
  // Korean Journals
  {name: "Journal of Korean Medical Science", issn: "1011-8934", impact_factor: 3.5, category: "Medicine, General & Internal", quartile: "Q2"},
  {name: "Cancer Research and Treatment", issn: "1598-2998", impact_factor: 4.9, category: "Oncology", quartile: "Q2"},
  
  // Human-Computer Interaction
  {name: "International Journal of Human-Computer Interaction", issn: "1044-7318", impact_factor: 4.9, category: "Computer Science, Cybernetics", quartile: "Q1"},
  {name: "ACM Transactions on Computer-Human Interaction", issn: "1073-0516", impact_factor: 4.7, category: "Computer Science, Cybernetics", quartile: "Q1"},
  {name: "Human-Computer Interaction", issn: "0737-0024", impact_factor: 4.1, category: "Computer Science, Cybernetics", quartile: "Q1"},
  {name: "Interacting with Computers", issn: "0953-5438", impact_factor: 3.2, category: "Computer Science, Cybernetics", quartile: "Q2"},
  {name: "Behaviour & Information Technology", issn: "0144-929X", impact_factor: 3.7, category: "Computer Science, Cybernetics", quartile: "Q1"},
  
  // Additional AI & ML Journals
  {name: "Artificial Intelligence", issn: "0004-3702", impact_factor: 14.4, category: "Computer Science, Artificial Intelligence", quartile: "Q1"},
  {name: "Journal of Machine Learning Research", issn: "1532-4435", impact_factor: 6.0, category: "Computer Science, Artificial Intelligence", quartile: "Q1"},
  {name: "Neural Networks", issn: "0893-6080", impact_factor: 7.8, category: "Computer Science, Artificial Intelligence", quartile: "Q1"},
  {name: "IEEE Transactions on Neural Networks and Learning Systems", issn: "2162-237X", impact_factor: 10.4, category: "Computer Science, Artificial Intelligence", quartile: "Q1"},
];

// 검색 함수
export function normalizeString(s) {
  return s.toLowerCase().trim().replace(/-/g, '').replace(/ /g, '');
}

export function searchJournals(query) {
  if (!query) return [];
  
  const normalizedQuery = normalizeString(query);
  const results = [];
  
  for (const journal of JOURNAL_DATABASE) {
    if (normalizeString(journal.name).includes(normalizedQuery) ||
        normalizeString(journal.issn).includes(normalizedQuery)) {
      results.push(journal);
    }
  }
  
  return results.sort((a, b) => b.impact_factor - a.impact_factor);
}

// 통계 계산
export function getStats() {
  const categories = {};
  
  for (const journal of JOURNAL_DATABASE) {
    const cat = journal.category;
    if (!categories[cat]) {
      categories[cat] = {
        count: 0,
        journals: []
      };
    }
    categories[cat].count += 1;
    categories[cat].journals.push(journal.name);
  }
  
  for (const cat in categories) {
    const catJournals = JOURNAL_DATABASE.filter(j => j.category === cat);
    const avgIf = catJournals.reduce((sum, j) => sum + j.impact_factor, 0) / catJournals.length;
    categories[cat].avg_impact_factor = Math.round(avgIf * 100) / 100;
  }
  
  const impactFactors = JOURNAL_DATABASE.map(j => j.impact_factor);
  
  return {
    total_journals: JOURNAL_DATABASE.length,
    categories: Object.keys(categories).length,
    category_breakdown: categories,
    impact_factor_stats: {
      min: Math.min(...impactFactors),
      max: Math.max(...impactFactors),
      avg: Math.round((impactFactors.reduce((a, b) => a + b, 0) / impactFactors.length) * 100) / 100
    }
  };
}
